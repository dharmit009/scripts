#!/bin/bash

declare -A emoji
# for x in smiley sweatsmile angel haha bomb confuse like ohh bad mindblown mind tomato gift party1 party2 right wrong exclaimation question block flag joker night blub lol1 lol2; do echo "$x"; done 
emoji[smile]=ðŸ™‚
emoji[smiley]=ðŸ™‚
emoji[sweatsmile]=ðŸ˜…
emoji[angel]=ðŸ˜‡
emoji[haha]=ðŸ˜†
emoji[bomb]=ðŸ’£
emoji[confuse]=ðŸ’«
emoji[like]=ðŸ‘
emoji[ohh]=ðŸ˜®
emoji[bad]=ðŸ˜•
emoji[mindblown]=ðŸ¤¯
emoji[mind]=ðŸ§ 
emoji[tomato]=ðŸ…
emoji[gift]=ðŸŽ
emoji[party1]=ðŸŽ‰
emoji[party2]=ðŸŽŠ
emoji[right]=âœ…
emoji[wrong]=âŒ
emoji[exclaim]=â—
emoji[question]=â“
emoji[block]=â›”
emoji[flag]=ðŸš©
emoji[joker]=ðŸƒ
emoji[night]=ðŸŒƒ
emoji[bulb]=ðŸ’¡
emoji[lol1]=ðŸ˜‚
emoji[lol2]=ðŸ¤£
emoji[fp]=ðŸ¤¦
emoji[apple]=ðŸŽ

toemoji() {
  local in=/dev/stdin
  local out=/dev/stdout
  local file="$1"
  if [[ -n $file ]];then
    in="$file"
    out="$(mktemp)"
  fi
  IFS=$'\n'
  while read -r line; do 
    for k in ${!emoji[@]}; do 
      line=${line//:$k:/${emoji[$k]}}
    done
    echo "$line" >> $out
  done < "$in"
  if [[ -n $file ]]; then
    cp "$out" "$file"
    rm "$out"
  fi
}

toemoji "$@"

